### ar

https://ru.wikipedia.org/wiki/Ar_(Unix)

https://en.wikipedia.org/wiki/Ar_(Unix)

ar — стандартная утилита Unix, архиватор, не использующий сжатия данных.

Философия UNIX-образных систем предполагает наделение какой-либо утилиты только одной функцией (в данном случае только архивацией, но не сжатием), что позволяет наиболее гибко конструировать и собирать функционал таких утилит в скрипты, которые могут запускать конечные пользователи. Для сжатия уже готовых архивов используются другие утилиты (например, gzip).

В настоящее время ar используется главным образом для создания и обновления статических библиотек, которые используются линковщиками, а для любых других целей вместо него обычно применяется tar (хотя и ar может использоваться для создания архивов любого содержания и назначения, большей частью он был вытеснен утилитой tar).

Реализация утилиты ar от проекта GNU является частью пакета GNU Binutils.

#### Использование

```
ar [-]{dmpqrtx}[abcilosuvV] [имя_компонента_архива] архив-файлы...
```

ar может не только создавать/извлекать файлы из архива, но и модифицировать их.

Содержимое оригинального файла, права доступа, время, владелец и группа сохраняются в архиве и могут быть переопределены при извлечении.

#### Параметры запуска

* **d** - Удаляет модули из архива
* **m** - Перемещает файлы (перемещаются в конец архива)
* **p** - Выводит заданные компоненты архива на стандартный вывод
* **q** - Добавляет файлы в конец архива, без проверки на замещение
* **r** - Вставляет файлы в архив (с замещением)
* **t** - Показывает таблицу, в которой хранится содержание архива, или файлы, что были указаны в качестве параметра и присутствуют в архиве
* **x** - Извлекает компоненты (данные как файлы) из архива
* **a** - Добавить новые файлы после одного из существующих в архиве компонента
* **b** - Добавить новые файлы перед одним из существующих в архиве компонентов
* **c** - Создать архив
* **f** - Урезает имена в архиве для совместимости с другими операционными системами
* **i** - Вставить новые файлы перед одним из существующих в архиве компонентов
* **o** - Восстанавливает оригинальную дату компонентов архива, когда они извлекаются
* **s** - Записывает индекс объектного файла в архив или, если он существует, обновляет его, даже если нет других изменений в архиве
* **u** - При замещении файлов вставить только те из них, что отличаются от уже имеющихся в архиве
* **v** - Включает режим выдачи подробностей при выполнении операции
* **V** - Показывает версию ar

### Example usage

To create an archive from files `class1.o`, `class2.o`, `class3.o`, the following command would be used:

```
ar rcs libclass.a class1.o class2.o class3.o
```

Unix linkers, usually invoked through the C compiler `cc`, can read ar files and extract object files from them, so if `libclass.a` is an archive containing `class1.o`, `class2.o` and `class3.o`, then

```
cc main.c libclass.a
```

or (if libclass.a is placed in standard library path, like `/usr/local/lib`)

```
cc main.c -lclass
```

or (during linking)

```
ld ... main.o -lclass ...
```

is the same as:

```
cc main.c class1.o class2.o class3.o
```
