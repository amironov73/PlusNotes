### Параметры компилятора Microsoft Visual C++

Синтаксис командной строки:

```
CL [option...] file... [option | file]... [lib...] [@command-file] [/link link-opt...]
```

Переменные среды:

* `CL` и `_CL_` -- начало и продолжение командной строки.
* `INCLUDE` -- путь для поиска `#include`.
* `LIBPATH` -- путь для поиска `.lib`.

#### Оптимизация

* /O1 -- Уменьшает размер кода.
* /O2 -- Создает быстрый код.
* /Ob -- Управляет подстановкой подставляемых функций.
* /Od -- Отключает оптимизацию.
* /Og -- Не рекомендуется. Использует глобальную оптимизацию.
* /Oi -- Создает встроенные функции.
* /Os -- Отдает приоритет уменьшению размера кода.
* /Ot -- Отдает приоритет быстрому коду.
* /Ox -- Подмножество/O2, не включающее/GF или/Ги.
* /Oy -- Пропускает указатель на фрейм. (только x86)
* /favor -- Создает код, который оптимизирован для конкретной архитектуры или диапазона архитектур.

* /favor:Blend
(x86 и x64) создает код, который оптимизирован для специфики микроархитектур в AMD и Intel архитектур. Хотя /favor:blend могут не обеспечивать максимальную производительность возможно для определенного процессора, предназначенный для обеспечения оптимальной производительности для широкого x86 и x64 процессоров. По умолчанию /favor:blend в силу.

* /favor:Atom
(x86 и x64) создается код, оптимизированный под особенности процессора Intel Atom, а также технологий процессоров Intel Centrino Atom. Код, созданный с помощью /favor:ATOM может привести к инструкции Intel SSSE3, SSE3, SSE и SSE2 для процессоров Intel.

* /favor:AMD64
(только x64) оптимизирует созданный код для AMD Opteron и Athlon, которые поддерживают 64-разрядных расширениях. Оптимизированный код можно запустить в x64 все совместимые платформы. Код, созданный с помощью /favor:AMD64 может привести к снижению производительности для процессоров Intel, поддерживающих Intel64.

* /favor:Intel64
(только x64) оптимизирует созданный код для процессоров Intel, поддерживающих Intel64, который обычно обеспечивает более высокую производительность для данной платформы. Код может выполняться в любой x64 платформы. Код, созданный с помощью /favor:INTEL64 может привести к снижению производительности на AMD Opteron и Athlon, которые поддерживают 64-разрядных расширениях.

#### Создание кода

* /arch -- Использование инструкций SSE или SSE2 при создании кода. (только x86)

* /Arch: IA32
Указывает на то, что расширенные инструкции не используются. Также указывает на использование инструкций x87 для вычислений с плавающей запятой.

* /Arch: SSE
Позволяет использовать инструкции SSE.

* /Arch: SSE2
Позволяет использовать инструкции SSE2. Это инструкция по умолчанию на платформах x86, если не указан параметр /Arch .

* /Arch: AVX
Позволяет использовать инструкции Intel AVX.

* /Arch: AVX2
Позволяет использовать инструкции Intel AVX 2.

* /Arch: AVX512
Включает использование инструкций Intel Advanced Vector Extensions 512.

* /clr -- Создает выходной файл, предназначенный для выполнения в среде CLR.
* /EH -- Задает модель обработки исключений.
* /fp -- Указывает поведение чисел с плавающей запятой.
* /GA -- Выполняет оптимизацию для приложений Windows.
* /Gd -- Использует соглашение о вызовах __cdecl . (только x86)
* /Ge -- Не рекомендуется. Включает стековые зонды.
* /GF -- Включает объединение строк.
* /Gh -- Вызывает функцию-обработчик _penter.
* /GH -- Вызывает функцию-обработчик _pexit.
* /GL -- Включает оптимизацию всей программы.
* /Gm -- Не рекомендуется. Включает минимальное перепостроение.
* /GR -- Включает информацию о типах во время выполнения (RTTI).
* /Gr -- Использует соглашение о вызовах __fastcall . (только x86)
* /GS -- Проверяет безопасность буфера.
* /Gs -- Управляет стековыми зондами.
* /GT -- Поддерживает безопасность волокон для данных, размещаемых с помощью статической локальной памяти потока.
* /guard:cf -- Добавление проверок безопасности для защиты потока управления.
* /Gv -- Использует соглашение о вызовах __vectorcall . (только x86 и x64)
* /Gw -- Включает глобальную оптимизацию данных всей программы.
* /GX -- Не рекомендуется. Включает синхронную обработку исключений. Используйте вместо этого параметр /EH .
* /Gy -- Включает компоновку на уровне функций.
* /GZ -- Не рекомендуется. Включает быстрые проверки. (Аналогично /RTC1)
* /Gz -- Использует соглашение о вызовах __stdcall . (только x86)
* /homeparams -- Принудительная запись параметров, переданных в регистрах, в соответствующие места в стеке при вхождении в функцию. Этот параметр компилятора предназначен только для компиляторов x64 (собственная и перекрестная компиляция).
* /hotpatch -- Создает образ, допускающий горячее обновление.
* /Qfast_transcendentals -- Создает быстрые трансцендентные функции.
* /QIfist -- Не рекомендуется. Подавляет вызов вспомогательной функции _ftol при необходимости преобразования из типа с плавающей запятой в целочисленный тип. (только x86)
* /Qimprecise_fwaits -- Удаляет команды fwait внутри блоков try .
* /Qpar -- Включает автоматическую параллелизацию циклов.
* /Qpar-report -- Включает уровни отчетов для автоматической параллелизации.
* /Qsafe_fp_loads -- Использует целочисленные инструкции перемещения значений с плавающей запятой и отключает определенные оптимизации загрузки значений с плавающей запятой.
* /Qspectre -- Включите устранение рисков для CVE 2017-5753 для класса атак устранением рисков Spectre.
* /Qvec-report -- Включает уровни отчетов для автоматической векторизации.
* /RTC -- Включает проверку ошибок во время выполнения.
* /volatile -- Выбирает способ интерпретации ключевого слова volatile.

### Выходные файлы

* /doc -- Обрабатывает комментарии к документации в XML-файл.
* /FA -- Настраивает файл списка сборки.
* /Fa -- Создает файл списка сборки.
* /Fd -- Переименовывает файл базы данных программы.
* /Fe -- Переименовывает исполняемый файл.
* /Fi -- Задает предобработанное имя выходного файла.
* /Fm -- Создает файл сопоставления.
* /Fo -- Создает объектный файл.
* /Fp -- Задает имя файла предкомпилированного заголовка.
* /FR,/fr -- Назовите созданные SBR файлы браузера.

### Препроцессор

* /AI -- Указывает каталог поиска для разрешения ссылок на файлы, указанные в директиве `#using`.
* /C -- Сохраняет комментарии на этапе предварительной обработки.
* /D -- Определяет константы и макросы.
* /E -- Копирует выходные данные препроцессора в стандартный вывод.
* /EP -- Копирует выходные данные препроцессора в стандартный вывод.
* /FI -- Выполняет предварительную обработку указанного включаемого файла.
* /FU -- Обеспечивает принудительное использование имени файла, как если бы оно было указано в директиве `#using`.
* /Fx -- Выполняет слияние введенного кода с исходным файлом.
* /I -- Осуществляет поиск включаемых файлов в каталоге.
* /P -- Записывает выходные данные препроцессора в файл.
* /U -- Удаляет предварительно определенный макрос.
* /u -- Удаляет все предварительно определенные макросы.
* /X -- Пропускает стандартный каталог включаемых файлов.

### Язык

* /constexpr -- Управление вычислением constexpr во время компиляции.
* /openmp -- Включает прагма-директиву #pragma omp в исходном коде.
* /vd -- Подавляет или включает скрытые члены класса vtordisp .
* /vmb -- Использует оптимальное основание для указателей на члены.
* /vmg -- Использует полное обобщение для указателей на члены.
* /vmm -- Объявляет множественное наследование.
* /vms -- Объявляет одиночное наследование.
* /vmv -- Объявляет виртуальное наследование.
* /Z7 -- Создает отладочную информацию, совместимую C 7,0.
* /Za -- Отключает расширения языка C89.
* /Zc -- Задает стандартное поведение при использовании параметра /Ze.
* /Ze -- Не рекомендуется. Включает расширения языка C89.
* /Zf -- Улучшает время создания PDB в параллельных сборках.
* /ZH -- Указывает MD5, SHA-1 или SHA-256 для контрольных сумм в отладочной информации.
* /ZI -- Включает отладочную информацию в базу данных программы, совместимую с функцией "Изменить и продолжить". (только x86)
* /Zi -- Создает полную отладочную информацию.
* /Zl -- Удаляет имя библиотеки по умолчанию из OBJ-файла.
* /Zp n -- Упаковывает члены структур.
* /Zs -- Проверяет только синтаксис.
* /ZW -- Создает выходной файл для запуска на среда выполнения Windows.

### Компоновка

* /F -- Задает размер стека.
* /LD -- Создает библиотеку динамической компоновки.
* /LDd -- Создает отладочную библиотеку динамической компоновки.
* /link -- Передает указанный параметр в программу LINK.
* /LN -- Создает модуль MSIL.
* /MD -- Компилирует для создания многопотоковой библиотеки DLL с помощью библиотеки `MSVCRT.lib`.

Предписывает приложению использование специальной многопоточной и зависящей от DLL версии библиотеки времени выполнения. Определяет параметры `_MT` и `_DLL` и предписывает компилятору размещение имени библиотеки `MSVCRT.lib` в OBJ-файле.

Приложения, компилируемые с этим параметром, статически компонуются с библиотекой `MSVCRT.lib`. Эта библиотека содержит слой кода, позволяющий компоновщику разрешить внешние ссылки. Фактический рабочий код содержится в МСВКРversionNumber. DLL, которая должна быть доступна во время выполнения для приложений, связанных с MSVCRT. lib.

* /MDd -- Компилирует для создания отладочной многопотоковой библиотеки DLL с помощью библиотеки `MSVCRTD.lib`.

Определяет параметры `_DEBUG`, `_MT` и `_DLL` и предписывает приложению использование отладочной многопоточной и зависящей от DLL версии библиотеки времени выполнения. Также предписывает компилятору размещение имени библиотеки `MSVCRTD.lib` в .obj-файле.

* /MT -- Компилирует для создания многопотокового исполняемого файла с помощью библиотеки `LIBCMT.lib`.

Предписывает приложению использовать многопоточную статическую версию библиотеки времени выполнения. Создает определение `_MT` и указывает компилятору на необходимость размещения имени библиотеки `LIBCMT.lib` в файле OBJ, чтобы компоновщик использовал библиотеку `LIBCMT.lib` для разрешения внешних символов.

* /MTd -- Компилирует для создания отладочного многопотокового исполняемого файла с помощью библиотеки LIBCMTD.lib.

Создает определения `_DEBUG` и `_MT`. Этот параметр также предписывает компилятору размещение имени библиотеки `LIBCMTD.lib` в .obj-файле, чтобы компоновщик использовал `LIBCMTD.lib` для разрешения внешних символов.

### Прочее

* /? -- Отображает список параметров компилятора.
* @ -- Указывает файл ответа.
* /analyze -- Включает анализ кода
* /bigobj -- Увеличивает число адресуемых секций в OBJ-файле.
* /c -- Задает компиляцию без компоновки.
* /cgthreads -- Задает число потоков cl.exe, используемых для оптимизации и создания кода.
* /errorReport -- Позволяет предоставлять сведения о внутренних ошибках компилятора (ICE) непосредственно команде Майкрософт C++.
* /FC -- Отображает полный путь файлов исходного кода, переданных программе cl.exe, в диагностическом тексте.
* /FS -- Обеспечивает принудительную сериализацию записей в файл базы данных программы (PDB) с помощью MSPDBSRV.EXE.
* /H -- Не рекомендуется. Ограничивает длину внешних (открытых) имен.
* /HELP -- Отображает список параметров компилятора.
* /J -- Изменяет тип char по умолчанию.
* /JMC -- Поддерживает встроенную C++ отладку "только мой код".
* /kernel -- Компилятор и компоновщик создадут двоичный файл для выполнения в ядре Windows.
* /MP -- Параллельное построение нескольких исходных файлов.
* /nologo -- Подавление отображения приветствия.
* /sdl -- Включает дополнительные функции безопасности и предупреждения.
* /showIncludes -- Отображает список всех включаемых файлов во время компиляции.
* /Tc -- Указывает исходный файл на языке C.
* /TC -- Указывает все исходные файлы — C.
* /Tp -- Указывает исходный файл на языке C++.
* /TP -- Указывает все исходные файлы C++.
* /V -- Не рекомендуется. Задает строку версии.
* /w -- Отключает все предупреждения.
* /W0, /W1, /W2, /W3, /W4 -- Задает уровень выходного предупреждения.
* /w1, /w2, /w3, /w4 -- Задает уровень для указанного предупреждения.
* /Wall -- Включает все предупреждения, в том числе предупреждения, отключенные по умолчанию.
* /wd -- Отключает указанное предупреждение.
* /we -- Обрабатывает указанное предупреждение как ошибку.
* /WL -- Включает однострочные диагностические сообщения об ошибках и предупреждения в ходе компиляции исходного кода C++ из командной строки.
* /wo -- Отображает указанное предупреждение только один раз.
* /Wv -- Отключает предупреждения, появившиеся в более поздних версиях компилятора.
* /WX -- Обрабатывает предупреждения как ошибки.
* /Yc -- Создания. PCH файл.
* /Yd -- Не рекомендуется. Размещает полную отладочную информацию во всех объектных файлах. Используйте вместо этого параметр /Zi .
* /Yl -- Вставляет ссылку PCH при создании отладочной библиотеки.
* /Yu -- Использует файл предкомпилированного заголовка при построении.
* /Y- -- Пропускает все прочие параметры компилятора, относящиеся к предварительно скомпилированным заголовкам, в текущем построении.
* /Zm -- Указывает предел выделения памяти для предкомпилированного заголовка.
* /await -- Включить расширения для подподпрограмм (возобновляемые функции).
указаны кодировки/Source-charset -- Задать исходную кодировку.
* /Execution-charset -- Задать кодировку выполнения.
* /utf-8 -- Задайте кодировку UTF-8 для исходного кода и кодировки выполнения.
* /Validate-charset -- Проверка файлов UTF-8 на наличие только совместимых символов.
* /Diagnostics -- Управляет форматом диагностических сообщений.
* /permissive- -- Задать режим стандартного соответствия.
* /std -- C++Стандартный селектор совместимости версий: /std:c++14 /std:c++17 и /std:c++latest.


