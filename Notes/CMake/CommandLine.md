### Командная строка

#### Генерация проекта

```
cmake [<options>] <path-to-source>
cmake [<options>] <path-to-existing-build>
cmake [<options>] -S <path-to-source> -B <path-to-build>
```

Опции

* **-S \<path-to-source\>** – указание директории, в которой находится `CMakeLists.txt`.

* **-B \<path-to-build\>** – указание папки, в которой будет производиться. Если папка не существует, CMake создаст её.

* **-C \<initial-cache\>** – задание файла с кэшом `CMakeCache.txt`.

* **-D \<var\>:\<type\>\=<value>, -D \<var \>\=\<value\>** — задание переменной, помещение её в кэш (т. е. при следующем запуске эту переменную можно не указывать, она будет взята из кеша). Можно без пробела: `-D<var>:<type>=<value>`.

* **-U \<globbing_expr\>** – удаление ранее заданной переменной из кеша. Чтобы удалить все: `-U *`.

* **-G \<generator-name\>** – указание генератора. См. [Генераторы](Generators.md)ю

* **-T \<toolset-spec\>** — указание тулсета.

* **-A \<platform-name\>** — указание платформы (если поддерживается генератором). Для Visual Studio: `Win32`, `x64`, `ARM`, `ARM64`. Пример: `cmake -G "Visual Studio 16 2019" -A x64`.

* **-Wno-dev** — подавление девелоперских предупреждений.

* **-Wdev** — включение девелоперских предупреждений.

Стандартная последовательность для старых версий CMake:

```
mkdir build ; cd build
cmake ..
```

#### Сборка проекта

```
cmake --build <dir> [<options>] [-- <build-tool-options>]
```

* **--build \<dir\>** – сборка согласно ранее сгенерированным файлам.

* **--parallel \[\<jobs\>\], -j \[\<jobs\>\]** – параллельная сборка в несколько потоков.

* **--target \<tgt\>..., -t \<tgt\>...** – сборка указанной цели.

* **--config \<cfg\>** – сборка указанной конфигурации (например, `Release`).

* **--clean-first** — сначала выполняется цель `clean`, затем сборка проекта.

* **--verbose, -v** – подробный вывод.

* **--** – последующие аргументы будут переданы системе сборки.

#### Инсталляция проекта

```
cmake --install <dir> [<options>]
```

* **--install \<dir\>** – указание папки с билд-файлами.

* **--config \<cfg\>** – выбор конфигурации для инсталляции.

* **--component \<comp\>** – выбор компонента для инсталляции.

* **--prefix \<prefix\>** – переопределение префикса для инсталляции.

* **--strip** — удаление отладочной информации перед инсталляцией.

* **-v, --verbose** — подробный вывод.

Для старых версий CMake:

```
cmake --build <dir> --target install
```

#### Открытие сгенерированного проекта

```
cmake --open <dir>
```

Запускает, например, Visual Studio со сгенерированным проектом/солюшеном. Поддерживается не для всех генераторов.

#### Запуск скрипта

```
cmake [{-D <var>=<value>}...] -P <cmake-script-file>
```

#### Запуск утилиты командной строки

```
cmake -E <command> [<options>]
```

#### Запуск поиска пакета

```
cmake --find-package [<options>]
```

#### Вывод справки

```
cmake --help[-<topic>]
```

